"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function execute(e,t){return new _promise2["default"](function(r,n){try{exec(e,{cwd:t},function(e,t,i){e?n(e):r(t)})}catch(i){n(i)}})}function installPackages(e,t){var r=void 0;return getConfigVariable("progress",t).then(function(e){return r=e,setConfigVariable("progress","false",t)}).then(function(){return execute("npm install "+e+" -S -E",t)}).then(function(){return setConfigVariable("progress",r,t)})}function installDefault(e){var t=void 0;return getConfigVariable("progress",e).then(function(r){return t=r,setConfigVariable("progress","false",e)}).then(function(){return execute("npm install",e)}).then(function(){return setConfigVariable("progress",t,e)})}function getConfigVariable(e,t){return execute("npm get "+e,t)["catch"](function(e){console.error(e)})}function setConfigVariable(e,t,r){return execute("npm set "+e+"="+t,r)["catch"](function(e){console.error(e)})}function getPackageAbsolutePath(e,t){return execute("node -p \"require.resolve('"+e+"/package.json')\"",t).then(function(e){return _path2["default"].dirname(e)})["catch"](function(e){})}Object.defineProperty(exports,"__esModule",{value:!0});var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise);exports.installPackages=installPackages,exports.installDefault=installDefault,exports.getConfigVariable=getConfigVariable,exports.setConfigVariable=setConfigVariable,exports.getPackageAbsolutePath=getPackageAbsolutePath;var _path=require("path"),_path2=_interopRequireDefault(_path),_child_process=require("child_process"),_child_process2=_interopRequireDefault(_child_process),exec=_child_process2["default"].exec;