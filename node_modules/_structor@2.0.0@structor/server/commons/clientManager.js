"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getAllProjects(){return client.get(_configuration.SERVICE_URL+"/sm/public/gallery/list")}function invokePreGeneration(e,t,n){return client.post(_configuration.SERVICE_URL+"/sm/gengine/preprocess?generatorId="+e+"&version="+t,n)}function invokeGeneration(e,t,n){return client.post(_configuration.SERVICE_URL+"/sm/gengine/process?generatorId="+e+"&version="+t,n)}function initUserCredentialsByToken(e){return client.setAuthenticationToken(e),client.get(_configuration.SERVICE_URL+"/sm/user/profile-full").then(function(t){return(0,_extends3["default"])({},t,{token:e})})["catch"](function(e){return console.error(e),console.log("Authentication token is invalid or was expired"),{}})}function initUserCredentials(e,t){return client.post(_configuration.SERVICE_URL+"/sm/auth",{username:e,password:t}).then(function(e){if(e.token)return initUserCredentialsByToken(e.token);throw Error("Token is missing in response.")})["catch"](function(e){throw Error("Account credentials are not valid.")})}function removeAuthToken(){return client.setAuthenticationToken(null),_promise2["default"].resolve()}function downloadGalleryFile(e){return client.downloadGet(e)}function downloadGeneratorScreenshot(e,t){return client.downloadGet(_configuration.SERVICE_URL+"/sm/public/generator/info/"+e+"/"+t+"/screenshot.png")}function getGeneratorReadmeText(e,t){return client.getText(_configuration.SERVICE_URL+"/sm/public/generator/info/"+e+"/"+t+"/readme.md")}function getAvailableGeneratorsList(){return config.projectId()?client.get(_configuration.SERVICE_URL+"/sm/public/generator/map?projectId="+config.projectId()):_promise2["default"].reject("Current project's configuration does not have projectId field. It seems project is not compatible with Structor's version.")}function getAvailableGeneratorGenerics(){return config.projectId()?client.get(_configuration.SERVICE_URL+"/sm/public/generator/generics?projectId="+config.projectId()):_promise2["default"].reject("Current project's configuration does not have projectId field. It seems project is not compatible with Structor's version.")}Object.defineProperty(exports,"__esModule",{value:!0});var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_extends2=require("babel-runtime/helpers/extends"),_extends3=_interopRequireDefault(_extends2);exports.getAllProjects=getAllProjects,exports.invokePreGeneration=invokePreGeneration,exports.invokeGeneration=invokeGeneration,exports.initUserCredentialsByToken=initUserCredentialsByToken,exports.initUserCredentials=initUserCredentials,exports.removeAuthToken=removeAuthToken,exports.downloadGalleryFile=downloadGalleryFile,exports.downloadGeneratorScreenshot=downloadGeneratorScreenshot,exports.getGeneratorReadmeText=getGeneratorReadmeText,exports.getAvailableGeneratorsList=getAvailableGeneratorsList,exports.getAvailableGeneratorGenerics=getAvailableGeneratorGenerics;var _client=require("./client.js"),client=_interopRequireWildcard(_client),_configuration=require("./configuration.js"),config=_interopRequireWildcard(_configuration);