"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r["default"]=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function compile(e,r,o){return new _promise2["default"](function(i,t){if(!compiler)try{var n=require(config.webpackConfigFilePath())({deskEntryPoint:e,deskEntryPointFilePath:"",deskEntryPointOutputPath:r,deskEntryPointOutputFileName:o,deskEntryPointOutputPublicPath:"",nodeModulesDirPath:config.nodeModulesDirPath(),serverNodeModulesDirPath:config.serverNodeModulesDirPath()});n.entry=[e],n.output={path:r,filename:o},compiler=(0,_webpack2["default"])(n),config.getDebugMode()&&(console.log("Webpack configuration:"),console.log((0,_stringify2["default"])(n,null,4)))}catch(u){throw Error("Webpack config was not found. "+u)}compiler.run(function(e,r){var o=r.toJson({hash:!0});e?t(e):o.errors.length>0?t(o.errors):i()})})}function compileWorkingCopy(){var e=_path2["default"].join(config.sandboxDirPath(),"work",".structor","src","default.js"),r=_path2["default"].join(config.sandboxDirPath(),"work",".structor","desk"),o="bundle.js";return compile(e,r,o)}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise);exports.compileWorkingCopy=compileWorkingCopy;var _lodash=require("lodash"),_lodash2=_interopRequireDefault(_lodash),_path=require("path"),_path2=_interopRequireDefault(_path),_webpack=require("webpack"),_webpack2=_interopRequireDefault(_webpack),_configuration=require("../commons/configuration.js"),config=_interopRequireWildcard(_configuration),compiler=void 0;