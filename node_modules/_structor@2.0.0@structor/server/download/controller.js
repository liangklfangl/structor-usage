"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function setPostInstallationCallback(e){postInstallationCallback=e}function setProjectDirPath(e){currentProjectDirPath=e}function prepareProject(e){return clientManager.downloadGalleryFile(e.downloadUrl).then(function(e){return storageManager.writeProject(currentProjectDirPath,e)}).then(function(){return npmUtils.installDefault(currentProjectDirPath)}).then(function(){if(postInstallationCallback)return postInstallationCallback()})}function getProjectList(){return clientManager.getAllProjects()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setPostInstallationCallback=setPostInstallationCallback,exports.setProjectDirPath=setProjectDirPath,exports.prepareProject=prepareProject,exports.getProjectList=getProjectList;var _path=require("path"),_path2=_interopRequireDefault(_path),_express=require("express"),_express2=_interopRequireDefault(_express),_clientManager=require("../commons/clientManager.js"),clientManager=_interopRequireWildcard(_clientManager),_storageManager=require("./storageManager.js"),storageManager=_interopRequireWildcard(_storageManager),_npmUtils=require("../commons/npmUtils.js"),npmUtils=_interopRequireWildcard(_npmUtils),_configuration=require("../commons/configuration.js"),config=_interopRequireWildcard(_configuration),postInstallationCallback=void 0,currentProjectDirPath=void 0;