"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r}function getScaffoldGenerators(){var e=[],r=config.scaffoldsDirPath();return(0,_fileManager.readDirectoryFlat)(r).then(function(r){var n=Promise.resolve();if(r){var t=r.dirs;t&&t.length>0&&t.forEach(function(r){n=n.then(function(){return(0,_fileManager.readDirectoryFlat)(r.path).then(function(n){if(n){var t=n.files;if(t&&t.length>0){var a={};t.forEach(function(e){e.name===GENERATOR_CONFIG_NAME&&(a.dirPath=r.path,a.name=r.name),e.name.indexOf(GENERATOR_SCREENSHOT_NAME)>=0&&(a.screenshotFilePath=e.path),e.name===GENERATOR_README_NAME&&(a.readmeFilePath=e.path)}),e.push(a)}}return e})})})}return n.then(function(){var r=Promise.resolve(),n=[];return e.length>0&&e.forEach(function(e){var t=e.name,a=e.dirPath,i=e.readmeFilePath;r=r.then(function(){if(t&&a&&i)return(0,_fileManager.readFile)(i).then(function(r){e.readmeText=r,n.push(e)}).catch(function(e){})})}),r.then(function(){return n})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getScaffoldGenerators=getScaffoldGenerators;var _fileManager=require("../commons/fileManager.js"),_configuration=require("../configuration.js"),config=_interopRequireWildcard(_configuration),GENERATOR_CONFIG_NAME="generator.js",GENERATOR_README_NAME="readme.md",GENERATOR_SCREENSHOT_NAME="screenshot";